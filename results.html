<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quiz Results</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div class="container">
    <!-- Top Heading -->
    <h1>Your Activist Type</h1>
    
    <div id="result-container" style="display:none;">
      <!-- Activist Type & Description -->
      <h2 id="result-title"></h2>
      <p id="result-description"></p>
      <img id="persona-image" src="" alt="Your Activist Persona" style="display:none;">

      <!-- Issue Focus Actions -->
      <h3>Issue Focus Actions</h3>
      <p>These icons represent organizations and volunteer opportunities that align with your cause.</p>
      <div id="issue-focus-container"></div>

      <!-- Quick Activist Actions -->
      <h3>Quick Activist Actions</h3>
      <p>These immediate actions are based on your quiz responses from Page 1. Click them to see how you can start right in!</p>
      <div class="button-group">
        <a href="#" id="org1" class="result-btn green">Action 1</a>
        <a href="#" id="org2" class="result-btn green">Action 2</a>
      </div>

      <!-- Deeper Engagement -->
      <h3>Deeper Engagement</h3>
      <p>For those seeking long-term impact, these steps connect you more deeply to your local and national movement.</p>
      <div class="button-group">
        <a href="https://upliftservicenetwork.com/activist-matching/" class="result-btn blue" target="_blank">Get Matched</a>
        <a href="https://upliftservicenetwork.com/log-in-2/" class="result-btn blue" target="_blank">Learn More</a>
      </div>

      <!-- Share My Results (Green Button at Bottom) -->
      <div style="text-align: center; margin-top: 20px;">
        <button id="share-button" class="result-btn green">Share My Results</button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // 1) Retrieve quiz data from localStorage
      const activistType = localStorage.getItem("activistType") || "Uncategorized";
      const issueFocus = JSON.parse(localStorage.getItem("activistFocus") || "[]");

      // 2) DOM references
      const resultContainer = document.getElementById("result-container");
      const resultTitle = document.getElementById("result-title");
      const resultDescription = document.getElementById("result-description");
      const resultImage = document.getElementById("persona-image");
      const org1 = document.getElementById("org1");
      const org2 = document.getElementById("org2");
      const shareButton = document.getElementById("share-button");

      // 3) Activist Types (with your data)
      const activistTypes = {
        "Frontline Mobilizer": {
          description: "ðŸ”¥ You are the spark that ignites change! ...",
          image: "images/frontline_firestarter.png",
          organizations: [
            { name: "Black Lives Matter", link: "https://blacklivesmatter.com/take-action/" },
            { name: "Sunrise Movement", link: "https://www.sunrisemovement.org/take-action/" }
          ]
        },
        // ... other types ...
      };

      // 4) Display the userâ€™s chosen type
      if (activistTypes[activistType]) {
        resultTitle.textContent = activistType;
        resultDescription.textContent = activistTypes[activistType].description;
        resultImage.src = activistTypes[activistType].image;
        resultImage.style.display = "block";

        // Populate the quick-action green buttons
        const orgs = activistTypes[activistType].organizations || [];
        if (orgs.length >= 2) {
          org1.textContent = orgs[0].name;
          org1.href = orgs[0].link;
          org2.textContent = orgs[1].name;
          org2.href = orgs[1].link;
        }
      } else {
        resultTitle.textContent = "Uncategorized";
        resultDescription.textContent = "We couldn't match your activist style. Please try again.";
      }

      // 5) Issue Focus
      // Use your existing code to render clickable icons, e.g.:
      const issueFocusContainer = document.getElementById("issue-focus-container");
      // If you have focusMapping, do something like:
      /*
      const focusHTML = issueFocus.map(...).join("");
      issueFocusContainer.innerHTML = focusHTML;
      */

      // 6) Reveal the results
      resultContainer.style.display = "block";

      // 7) "Share My Results" button does nothing by default:
      shareButton.addEventListener("click", function() {
        alert("Share button clicked! Implement your share logic here.");
      });
    });
  </script>
</body>
</html>
