<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quiz Results</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

  <h1>Your Activist Type</h1>

  <div id="result-container">
    <h2 id="result-title"></h2>
    <p id="result-description"></p>
    <img id="persona-image" src="" alt="Your Activist Persona">

    <h3>Issue Focus</h3>
    <p id="issue-focus">Loading...</p>

    <h3>Your Commitment Level</h3>
    <p id="commitment-level">Loading...</p>

    <h3>Recommended Organizations</h3>
    <ul id="org-list"></ul>

    <button id="copy-button">Copy Organizations</button>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // ✅ Retrieve stored quiz results
      const activistType = localStorage.getItem("activistType") || "Uncategorized";
      const issueFocus = JSON.parse(localStorage.getItem("issueFocus") || "[]");
      const commitment = localStorage.getItem("commitment") || "Flexible Commitment";

      // ✅ Reference result elements
      const resultTitle = document.getElementById("result-title");
      const resultDescription = document.getElementById("result-description");
      const resultImage = document.getElementById("persona-image");
      const issueFocusText = document.getElementById("issue-focus");
      const commitmentText = document.getElementById("commitment-level");
      const orgList = document.getElementById("org-list");
      const copyButton = document.getElementById("copy-button");

      // ✅ Activist type data with **more inspiring** descriptions
      const activistTypes = {
        "Frontline Mobilizer": {
          description: "🔥 You are the firestarter! You bring the heat to movements, standing at the frontlines of protests, rallies, and direct action. Your passion fuels change, and when the world needs a voice, you make sure it's heard.",
          image: "images/frontline_mobilizer.png",
          organizations: [
            { name: "Black Lives Matter", link: "https://blacklivesmatter.com/" },
            { name: "Sunrise Movement", link: "https://www.sunrisemovement.org/" }
          ]
        },
        "Community Caregiver": {
          description: "🤲 You are the heart of the movement! You bring people together through direct aid, making sure no one is left behind. Whether it's mutual aid, food distribution, or crisis support, you make activism deeply personal.",
          image: "images/community_caregiver.png",
          organizations: [
            { name: "Mutual Aid Network", link: "https://www.mutualaidhub.org/" },
            { name: "World Central Kitchen", link: "https://wck.org/" }
          ]
        },
        "Strategist & Organizer": {
          description: "🧠 The movement needs a plan, and you’re the architect! You excel at coordinating protests, logistics, and campaign strategy. With you at the helm, grassroots movements turn into unstoppable forces for change.",
          image: "images/strategist_organizer.png",
          organizations: [
            { name: "Indivisible", link: "https://indivisible.org/" },
            { name: "MoveOn", link: "https://front.moveon.org/" }
          ]
        },
        "Educator & Storyteller": {
          description: "📖 You are the voice of change! Through writing, speaking, media, and art, you shift perspectives and inspire action. Your power lies in storytelling—turning movements into narratives that cannot be ignored.",
          image: "images/educator_storyteller.png",
          organizations: [
            { name: "The Trevor Project", link: "https://www.thetrevorproject.org/" },
            { name: "Southern Poverty Law Center", link: "https://www.splcenter.org/" }
          ]
        },
        "Digital Defender": {
          description: "💻 The internet is your battleground! You fight for digital rights, privacy, and social media advocacy. Whether you're combating misinformation or mobilizing movements online, you’re the guardian of digital activism.",
          image: "images/digital_defender.png",
          organizations: [
            { name: "EFF (Electronic Frontier Foundation)", link: "https://www.eff.org/" },
            { name: "Fight for the Future", link: "https://www.fightforthefuture.org/" }
          ]
        },
        "Political Advocate": {
          description: "🏛️ You believe change happens both inside and outside the system! Whether you're lobbying, fighting voter suppression, or working in policy, you make sure the laws of the land reflect justice and equity.",
          image: "images/political_advocate.png",
          organizations: [
            { name: "Fair Fight Action", link: "https://fairfight.com/" },
            { name: "ACLU", link: "https://www.aclu.org/" }
          ]
        },
        "Resource Builder": {
          description: "💰 Movements need resources, and you make sure they have them! Whether you're fundraising, managing donations, or organizing material support, your efforts ensure activism doesn't just survive—it thrives.",
          image: "images/resource_builder.png",
          organizations: [
            { name: "ActBlue", link: "https://secure.actblue.com/" },
            { name: "Network for Good", link: "https://www.networkforgood.com/" }
          ]
        }
      };

      // ✅ Set Activist Type Result
      if (activistTypes[activistType]) {
        resultTitle.textContent = activistType;
        resultDescription.textContent = activistTypes[activistType].description;
        resultImage.src = activistTypes[activistType].image;
        resultImage.style.display = "block";

        // Populate organizations
        orgList.innerHTML = activistTypes[activistType].organizations.map(org => `
          <li><a href="${org.link}" target="_blank">${org.name}</a></li>
        `).join("");
      }

      // ✅ Set Issue Focus Text (Text-Only for Now)
      issueFocusText.textContent = issueFocus.length > 0 ? issueFocus.join(", ") : "Various Issues";

      // ✅ Set Commitment Level
      commitmentText.textContent = commitment;

      // ✅ Copy Button Functionality
      copyButton.addEventListener("click", function () {
        const textToCopy = `Activist Type: ${activistType}\nIssue Focus: ${issueFocus.join(", ")}\nCommitment: ${commitment}\nOrganizations:\n` +
          activistTypes[activistType].organizations.map(org => `${org.name} - ${org.link}`).join("\n");

        navigator.clipboard.writeText(textToCopy).then(() => {
          alert("Copied to clipboard!");
        });
      });

      // ✅ Show Result Container
      document.getElementById("result-container").style.display = "block";
    });
  </script>

</body>
</html>
