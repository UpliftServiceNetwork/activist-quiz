<!-- Results Page HTML -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quiz Results</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* Additional inline CSS if needed */
    .info-text {
      max-width: 550px;
      margin: 0 auto 15px auto;
      font-size: 16px;
      color: #333;
      line-height: 1.4;
    }
    /* (Optional) If mobile buttons are too small, you can add a media query like this: */
    @media screen and (max-width: 600px) {
      .uplift-btn,
      .result-btn,
      .quiz-link {
        font-size: 20px;
        padding: 15px 25px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Your Activist Type</h1>
    
    <div id="result-container">
      <!-- Title, Description, Image, etc. -->
      <h2 id="result-title"></h2>
      <p id="result-description"></p>
      <img id="persona-image" src="" alt="Your Activist Persona" style="display:none;">
      <p class="info-text" id="inspirational-message">You will change the world.</p>
      
      <!-- Quick Actions / Button Group -->
      <div class="button-group">
        <a class="uplift-btn" href="https://upliftservicenetwork.com" target="_blank">
          Visit UpliftServiceNetwork
        </a>
        <a id="facebookShareButton" class="result-btn green" href="#">
          Share on Facebook
        </a>
        <a id="blueskyShareButton" class="result-btn green" href="#">
          Share on BlueSky
        </a>
        <a class="quiz-link" href="index.html">
          Take quiz again
        </a>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Retrieve stored activist type
      const storedType = localStorage.getItem("activistType");
      const activistType = storedType ? storedType : "Uncategorized";

      // Define activist type details (example data; adjust as needed)
      const activistTypes = {
        "Frontline Mobilizer": {
          description: "üî• You are the spark that ignites change! When injustice strikes, you step up‚Äîmarching, protesting, and standing boldly on the front lines.",
          image: "images/frontline_firestarter.png",
          organizations: [
            { name: "Black Lives Matter", link: "https://blacklivesmatter.com/take-action/" },
            { name: "Sunrise Movement", link: "https://www.sunrisemovement.org/take-action/" }
          ]
        },
        "Community Caregiver": {
          description: "üíô You are the heart of the movement! Whether it‚Äôs feeding the hungry, providing shelter, or offering support, you bring direct care.",
          image: "images/caregiver.png"
        },
        "Strategist & Organizer": {
          description: "üìä You are the architect of change! Your vision and leadership turn passion into progress.",
          image: "images/organizer.png"
        },
        "Educator & Storyteller": {
          description: "üì¢ You educate and inspire‚Äîspreading awareness through media, art, and public speaking.",
          image: "images/storyteller.png"
        },
        "Digital Defender": {
          description: "üíª You use technology and online platforms to organize, advocate, and protect movements.",
          image: "images/digital_defender.png"
        },
        "Political Advocate": {
          description: "üèõÔ∏è You fight for justice through policy, voting rights, and legal action, making systemic change happen.",
          image: "images/political_advocate.png"
        },
        "Resource Builder": {
          description: "üí∞ You provide the funding, materials, and resources that movements need to thrive.",
          image: "images/resource_builder.png"
        }
      };

      // Mapping from activist type to its dedicated results page
      const typeToPageMapping = {
        "Frontline Mobilizer": "frontline.html",
        "Community Caregiver": "community.html",
        "Strategist & Organizer": "organizer.html",
        "Educator & Storyteller": "storyteller.html",
        "Digital Defender": "defender.html",
        "Political Advocate": "advocate.html",
        "Resource Builder": "builder.html"
      };

      // Determine the specific page for the activist type
      const activistPageUrl = typeToPageMapping[activistType] || "results.html";

      // Populate the results content
      const resultTitle = document.getElementById("result-title");
      const resultDescription = document.getElementById("result-description");
      const resultImage = document.getElementById("persona-image");
      
      if (activistTypes[activistType]) {
        resultTitle.textContent = activistType;
        resultDescription.textContent = activistTypes[activistType].description;
        resultImage.src = activistTypes[activistType].image;
        resultImage.style.display = "block";
      } else {
        resultTitle.textContent = "Uncategorized";
        resultDescription.textContent = "We couldn't match your activist style. Please try again.";
      }

      // Build share text (include the specific activist page URL)
      const shareText = `Activist Type: ${activistType}\n${activistTypes[activistType] ? activistTypes[activistType].description : ""}\nYou will change the world.\nTake the quiz here: ${activistPageUrl}`;
      const textEncoded = encodeURIComponent(shareText);

      // Update share links for Facebook and BlueSky to point to the activist-specific page
      const facebookShareButton = document.getElementById("facebookShareButton");
      facebookShareButton.href = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(activistPageUrl)}&quote=${textEncoded}`;

      const blueskyShareButton = document.getElementById("blueskyShareButton");
      blueskyShareButton.href = `https://bsky.app/compose?text=${textEncoded}`;
    });
  </script>
</body>
</html>
