<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Persona Results</title>
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="TAKE THE QUIZ! Find activism opportunities that fit for you!" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://upliftservicenetwork.com/wp-content/uploads/2025/03/image_result.png" />
  <meta property="og:url" content="https://upliftservicenetwork.github.io/activist-quiz/persona-share.html" />
  <meta property="og:description" content="Find out what type of activist you are and discover opportunities that match your strengths." />
  <meta property="og:site_name" content="Uplift Service Network" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta name="twitter:card" content="summary_large_image" />
  <!-- Responsive Viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Link to CSS files -->
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/other.css">
  <!-- Additional styles for better mobile experience -->
  <style>
    /* Container styling to ensure proper containment */
    .container {
      max-width: 600px;
      width: 100%;
      margin: 0 auto;
      padding: 20px;
      box-sizing: border-box;
      overflow: hidden; /* Prevent content from spilling out */
    }
    
    /* Side-by-side layout for image and link */
    .image-and-link {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      gap: 15px;
      margin: 20px 0;
    }
    
    /* Image styling with strict containment */
    .image-container {
      flex: 0 0 55%;
    }
    
    .image-container img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
      display: block;
    }
    
    /* Link container */
    .link-container {
      flex: 0 0 40%;
    }
    
    /* Copy link box */
    .copy-link-container {
      display: flex;
      flex-direction: column;
    }
    
    .copy-link-container input {
      width: 100%;
      padding: 10px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-bottom: 10px;
    }
    
    .copy-button {
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 5px;
      padding: 10px;
      cursor: pointer;
      font-size: 14px;
      font-weight: bold;
    }
    
    .copy-button:hover {
      background-color: #0056b3;
    }
    
    /* Facebook sharing button */
    .facebook-button {
      background-color: #3b5998;
      color: white;
      text-decoration: none;
      font-weight: bold;
      padding: 10px;
      border-radius: 5px;
      display: block;
      margin-top: 10px;
      text-align: center;
    }
    
    /* Equal blue buttons */
    .two-column-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 20px;
    }
    
    .two-column-buttons a {
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      min-height: 60px;
      padding: 14px 10px;
      font-size: 18px;
      height: 100%;
      width: 100%;
      box-sizing: border-box;
    }
    
    /* Responsive layout for mobile */
    @media screen and (max-width: 600px) {
      .image-and-link {
        flex-direction: column;
      }
      
      .image-container, .link-container {
        flex: 0 0 100%;
        width: 100%;
      }
      
      .two-column-buttons {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container persona-container">
    <h1>Thank You for Taking the Quiz!</h1>
    <div class="subtext-box">
      <p>
        Feel free to take it again to get matched to quick actions. We encourage you to share with friends.
        If you'd like to connect to <strong>The Uplift Service Network</strong>, we'd love to take your match
        to the next level.
      </p>
    </div>
    
    <!-- Side-by-side layout for image and link -->
    <div class="image-and-link">
      <!-- Image with proper containment -->
      <div class="image-container">
        <img src="https://upliftservicenetwork.github.io/activist-quiz/images/persona_result.png"
             alt="Persona Results" id="resultImage" />
      </div>
      
      <!-- Link container -->
      <div class="link-container">
        <p><strong>Share your result:</strong></p>
        
        <div class="copy-link-container">
          <input type="text" value="https://upliftservicenetwork.github.io/activist-quiz" id="shareLink" readonly>
          <button class="copy-button" onclick="copyShareLink()">Copy Link</button>
        </div>
        
        <a href="#" class="facebook-button" id="facebookShareButton">Share on Facebook</a>
      </div>
    </div>
    
    <div class="two-column-buttons">
      <!-- Blue Buttons side-by-side -->
      <a href="https://upliftservicenetwork.com" class="result-btn blue" target="_blank">
        Uplift Service Network
      </a>
      <a href="index.html" class="result-btn blue">Take the Quiz Again</a>
    </div>
  </div>
  
  <!-- Scripts -->
  <script>
    // Function to copy the share link
    function copyShareLink() {
      const shareLink = document.getElementById('shareLink');
      shareLink.select();
      document.execCommand('copy');
      alert('Link copied to clipboard!');
    }
    
    // Variables for sharing
    const shareURL = "https://upliftservicenetwork.github.io/activist-quiz/persona-share.html";
    const shareText = "TAKE THE QUIZ! Find activism opportunities that fit for you!";
    
    // Facebook sharing with mobile detection
    document.getElementById("facebookShareButton").addEventListener("click", function(e) {
      e.preventDefault();
      
      // Try to detect if on mobile
      const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
      
      if (isMobile) {
        // On mobile, try to use the Facebook app if installed
        window.location.href = `fb://facewebmodal/f?href=${encodeURIComponent(shareURL)}`;
        
        // Fallback to browser if app doesn't open after a short delay
        setTimeout(function() {
          window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareURL)}&quote=${encodeURIComponent(shareText)}`, "_blank");
        }, 300);
      } else {
        // On desktop, use standard sharing dialog
        window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareURL)}&quote=${encodeURIComponent(shareText)}`, "facebook-share-dialog", "width=626,height=436");
      }
    });
  </script>
</body>
</html>
